# ğŸŒ¼ Daffodil Flower Shop - Data Flow Diagram (DFD) ğŸŒ¼

> **Complete system architecture documentation for www.daffodilflower.page**  
> _An e-commerce platform for custom floral arrangements with AI-powered customization_

---

## ğŸ“‹ Table of Contents

1. [Context Diagram](#level-0-context-diagram)
2. [Main Processes](#level-1-main-processes)
3. [Detailed Process Flows](#level-2-detailed-process-flows)
4. [Data Stores](#data-stores-d-files)
5. [External Entities](#external-entities)
6. [Key User Journeys](#key-user-journeys)
7. [System Architecture](#system-architecture)

---

## âœ… Quick DFD Overview by Requested Categories

This section maps the system to the exact elements you requested.

### 1) Customer/Buyer Site and Admin Site

- Customer/Buyer Site (Frontend)
  - Pages: Home, Catalog, Product Details, Cart, Checkout, Account, Contact
  - Key Flows: Browse (2.0), Cart (3.0), Customization (4.0), Checkout (5.0), Order Tracking (6.0), Contact (8.0)
- Admin Site (Frontend)
  - Pages: Login, Dashboard, Products, Orders, Users, CMS, Reports, Audit
  - Key Flows: Admin Dashboard (7.0) including Products, Orders, Users, CMS, Analytics, Audit

### 2) Major Backend Services / Modules (API)

- API Gateway (Next.js API Routes)
  - Auth API: login, signup, session, OAuth (1.0)
  - Products API: list, details, search, stock (2.0)
  - Cart API: totals, pricing, validation (3.0)
  - Customization API: AI preview request handler (4.0)
  - Checkout API: payment intent/session, webhook handling (5.0)
  - Orders API: create, read, status updates (5.0/6.0)
  - Admin API: CRUD for products/users/orders/CMS, audit logging (7.0)

### 3) The Database

- Primary DB: Supabase (PostgreSQL)
  - D1 Users, D2 Products, D4 CMS Content, D5 Orders, D6 Audit Log
- Client Storage: D3 Cart and drafts (browser LocalStorage)

### 4) External APIs

- Payment Gateways: Stripe, PayPal, PayMongo (E3)
- Email Transport: SMTP/Gmail OAuth via Nodemailer (E4)
- AI Generation: HuggingFace Inference API for previews (E5)

High-level DFD (requested grouping):

```
 [Customer/Buyer Site]            [Admin Site]
        â”‚                              â”‚
        â”‚  HTTPS                       â”‚  HTTPS
        â–¼                              â–¼
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚           API Layer               â”‚
                  â”‚  Auth â€¢ Products â€¢ Cart â€¢ Orders â”‚
                  â”‚  Customization â€¢ Checkout â€¢ Adminâ”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                        â”‚   Database (DB)   â”‚
                        â”‚ D1..D6 (Supabase) â”‚
                        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                          â–¼                          â–¼
   [Payment Gateway]         [Email Service]            [AI Service]
        (E3)                      (E4)                      (E5)
```

Note: Detailed diagrams and flows below remain valid; this overview clarifies the boundary between the two sites, backend API, database, and external integrations per your request.

---

## ğŸ§© Structured DFD (Start/Input/Process/Data/Decision/End)

The following concise flows use only Start/End, Input, Process, Data, and Decision.

### Customer/Buyer Site â€” End-to-End Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   START      â”‚ Visit Site
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INPUT:                        â”‚
â”‚ Login (optional) / Browse     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:                      â”‚
â”‚ Display catalog & product infoâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATA:                         â”‚
â”‚ D2 Products (read)            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INPUT:                        â”‚
â”‚ Add to cart / Customize       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:                      â”‚
â”‚ Update cart & calculate total â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATA:                         â”‚
â”‚ D3 Cart (localStorage)        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DECISION:                                    â”‚
â”‚ Proceed to checkout?                         â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                           â”‚
    â”‚ Yes                       â”‚ No â†’ Return to catalog
    â–¼                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INPUT:                        â”‚
â”‚ Enter shipping & select paymentâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:                      â”‚
â”‚ Create payment session        â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATA:                         â”‚
â”‚ E3 Payment Gateway            â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DECISION:                                    â”‚
â”‚ Payment successful?                          â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                           â”‚
    â”‚ Yes                       â”‚ No â†’ Return to payment screen
    â–¼                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:                      â”‚
â”‚ Save order, update stock,     â”‚
â”‚ send confirmation email       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATA:                                        â”‚
â”‚ D5 Orders (write), D2 Products (update),     â”‚
â”‚ E4 Email Service (send)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    END       â”‚ Show order confirmation
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Admin Site â€” Management Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   START      â”‚ Admin access
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INPUT:                        â”‚
â”‚ Enter admin credentials       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:                      â”‚
â”‚ Validate credentials & sessionâ”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATA:                         â”‚
â”‚ D1 Users (auth/roles)         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DECISION:                                    â”‚
â”‚ Auth successful?                             â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                           â”‚
    â”‚ Yes                       â”‚ No â†’ Show error (End)
    â–¼                           â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:                      â”‚
â”‚ Select operation (Products/   â”‚
â”‚ Orders/Users/CMS/Reports)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:                      â”‚
â”‚ Perform CRUD / updates        â”‚
â”‚ (with audit logging)          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATA:                                                       â”‚
â”‚ D2 Products, D5 Orders, D1 Users, D4 CMS, D6 Audit Log      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DECISION:                                    â”‚
â”‚ Perform another operation?                   â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                           â”‚
    â”‚ Yes â€” Loop to selection   â”‚ No
    â–¼                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    END                        â”‚ Close admin session
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Level 0: Context Diagram (DFD-0)

**Purpose:** Shows the entire system as a single process with all external entities and their data flows.

This is the highest-level view where the Daffodil E-Commerce System is represented as one process interacting with external entities.

### Standard DFD-0 Notation

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      Customer           â”‚
                    â”‚        (E1)             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
              User requests     â”‚
              Product browse    â”‚
              Cart operations   â”‚
              Orders            â”‚
              Contact           â”‚
                                â”‚
                                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                          â”‚
    â”‚   ğŸŒ¼ DAFFODIL E-COMMERCE SYSTEM ğŸŒ¼       â”‚
    â”‚        (Process 0.0)                     â”‚
    â”‚                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–²            â–²            â–²            â–²
           â”‚            â”‚            â”‚            â”‚
           â”‚            â”‚            â”‚            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”´â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚  Payment    â”‚ â”‚  AI  â”‚  â”‚  Email  â”‚  â”‚ Admin  â”‚
    â”‚  Gateway    â”‚ â”‚Serviceâ”‚  â”‚ Service â”‚  â”‚ Staff  â”‚
    â”‚   (E3)      â”‚ â”‚ (E5) â”‚  â”‚  (E4)   â”‚  â”‚  (E2)  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â–²                    â–²            â–²            â–²
    â”‚                    â”‚            â”‚            â”‚
    Payment     AI image  Email       Analytics
    confirm     gen       notify      reports
```

### ğŸ“‹ Data Flow Summary

**E1: Customer â†” System**

- **To System:** User requests, product browse, cart ops, wishlist, contact, customization, checkout, order tracking
- **From System:** Auth responses, product data, cart state, order confirmations, order updates

**E2: Admin Staff â†” System**

- **To System:** Admin credentials, CRUD operations, management commands, analytics requests
- **From System:** Analytics reports, order updates, system alerts

**E3: Payment Gateway â†” System**

- **To System:** Payment confirmations, webhooks
- **From System:** Payment requests, order details

**E4: Email Service â†” System**

- **To System:** Delivery confirmations, bounces
- **From System:** Email requests, notifications

**E5: AI Service â†” System**

- **To System:** Generated images, API responses
- **From System:** Generation requests, specifications

---

## ğŸ“Š Standard Flowchart Notation

**Purpose:** Visual representation using standard DFD symbols

### Symbol Legend

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬   â”€â”¬â”€â”€   â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•¡
â”‚ START   â”‚   â”‚  END    â”‚   â”‚ DECIDE â”‚   â”‚   â”‚   â”‚  DATA   â”‚
â”‚         â”‚   â”‚         â”‚   â”‚  YES/  â”‚   â”‚   â”‚   â”‚  STORE  â”‚
â”‚  (Oval) â”‚   â”‚  (Oval) â”‚   â”‚   NO   â”‚   â”‚   â”‚   â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 PROCESS      PROCESS       DIAMOND     FLOW     (DATABASE)
(Rectangle)   (RECTANGLE)                LINE
```

### Customer Purchase Flowchart

```
                    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                    â•‘   START SESSION   â•‘
                    â•‘     (Visitor)     â•‘
                    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”¬â•â•â•â•
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Browse Products / Search         â”‚
                    â”‚   (Display Catalog)                â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
                            â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬
                            â”‚ Product       â”‚
                            â”‚ Selected?     â”‚
                            â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                                â”‚       â”‚
                            Yes â”‚       â”‚ No
                                â”‚       â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                                    â”‚
                    â–¼                                    â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Add to Cart?        â”‚         â”‚   Continue Browsing   â”‚
        â”‚   Customize?          â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                     â”‚
                         â”‚                            â”‚
                         â–¼                            â–¼
        â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬
        â”‚   Customization          â”‚
        â”‚   Selected?              â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚          â”‚
           Yes â”‚          â”‚ No
               â”‚          â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                     â”‚
    â–¼                                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Build Custom         â”‚      â”‚  Add Standard         â”‚
â”‚  Bouquet              â”‚      â”‚  Product to Cart      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  Select:             â”‚                  â”‚
â”‚  â€¢ Flower type       â”‚                  â–¼
â”‚  â€¢ Color             â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â€¢ Number of stems   â”‚    â”‚  View Cart                  â”‚
â”‚  â€¢ Wrap style        â”‚    â”‚  (Display Items)            â”‚
â”‚  â€¢ Add-ons           â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                 â”‚
                 â”‚                       â”‚
                 â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Generate AI Preview (Optional)               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€          â”‚
â”‚  â€¢ Call HuggingFace API                      â”‚
â”‚  â€¢ Generate bouquet image                    â”‚
â”‚  â€¢ Display preview to user                   â”‚
â”‚  â€¢ Calculate total price                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
                    â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Add Custom Item to Cart                 â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬
        â”‚   Ready to Checkout?     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                 â”‚           â”‚
             Yes â”‚           â”‚ No â”€â”€â”€â”€â”
                 â”‚           â”‚        â”‚
                 â–¼           â–¼        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  Proceed to Checkout      â”‚        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚        â”‚
â”‚  â€¢ Review cart            â”‚        â”‚
â”‚  â€¢ Enter shipping info    â”‚        â”‚
â”‚  â€¢ Select payment method  â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
             â”‚                       â”‚
             â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Process Payment                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚  â€¢ Create payment session               â”‚
â”‚  â€¢ Redirect to payment gateway          â”‚
â”‚  â€¢ Wait for payment confirmation        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
     â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬
     â”‚  Payment               â”‚
     â”‚  Successful?           â”‚
     â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚            â”‚
     Yes â”‚            â”‚ No
         â”‚            â”‚
         â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Create Order â”‚  â”‚  Display Error       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚  Return to Checkout  â”‚
â”‚  â€¢ Save order â”‚  â”‚                      â”‚
â”‚  â€¢ Update DB  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â€¢ Deduct     â”‚             â”‚
â”‚    inventory  â”‚             â–¼
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚            â”‚  Return to Cart      â”‚
        â–¼            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  Send Confirmation Email    â”‚    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚    â”‚
â”‚  â€¢ Order confirmation       â”‚    â”‚
â”‚  â€¢ Tracking information     â”‚    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
              â”‚                    â”‚
              â–¼                    â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  Display Order Confirmation     â”‚â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚â”‚
â”‚  â€¢ Order number                 â”‚â”‚
â”‚  â€¢ Order details                â”‚â”‚
â”‚  â€¢ Thank you message            â”‚â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
              â”‚                    â”‚
              â–¼                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
        â”‚   END    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚ SESSION  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¡
         â”‚         DATA STORES                  â”‚                                      â”‚
         â”‚                                      â”‚                                      â”‚
         â”‚  D1: Users          D2: Products    â”‚  D5: Orders      LocalStorage        â”‚
         â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
         â”‚  â€¢ User accounts   â€¢ Catalog        â”‚  â€¢ Order history â€¢ Cart items        â”‚
         â”‚  â€¢ Auth info       â€¢ Inventory      â”‚  â€¢ Status       â€¢ Wishlist           â”‚
         â”‚  â€¢ Permissions     â€¢ Pricing        â”‚  â€¢ Items        â€¢ Preferences        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Admin Operations Flowchart

```
                    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                    â•‘  START ADMIN      â•‘
                    â•‘    SESSION        â•‘
                    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”¬â•â•â•â•
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Admin Login                       â”‚
                    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚
                    â”‚  â€¢ Verify credentials              â”‚
                    â”‚  â€¢ Check admin role                â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                              â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬
                              â”‚  Authenticatedâ”‚
                              â”‚  Successfully?â”‚
                              â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                                  â”‚       â”‚
                              Yes â”‚       â”‚ No â”€â”€â”€â”€â”
                                  â”‚       â”‚        â”‚
                                  â–¼       â–¼        â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
                    â”‚  Load Dashboard     â”‚      â”‚
                    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€     â”‚      â”‚
                    â”‚  â€¢ Overview stats   â”‚      â”‚
                    â”‚  â€¢ Recent orders    â”‚      â”‚
                    â”‚  â€¢ Low stock alerts â”‚      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
                                â”‚                â”‚
                                â–¼                â”‚
                    â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬   â”‚
                    â”‚  Select Action         â”‚   â”‚
                    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                        â”‚            â”‚           â”‚
                        â–¼            â–¼           â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
            â”‚ Manage        â”‚ â”‚ View          â”‚ â”‚
            â”‚ Products      â”‚ â”‚ Analytics     â”‚ â”‚
            â”‚               â”‚ â”‚               â”‚ â”‚
            â”‚ â€¢ Add/Edit    â”‚ â”‚ â€¢ Sales       â”‚ â”‚
            â”‚ â€¢ Delete      â”‚ â”‚ â€¢ Products    â”‚ â”‚
            â”‚ â€¢ Import      â”‚ â”‚ â€¢ Customers   â”‚ â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                    â”‚                 â”‚         â”‚
                    â–¼                 â–¼         â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Manage Orders    â”‚ â”‚  Manage Users  â”‚
        â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚ â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚
        â”‚  â€¢ Update status  â”‚ â”‚  â€¢ Suspend     â”‚
        â”‚  â€¢ Fulfill        â”‚ â”‚  â€¢ Promote     â”‚
        â”‚  â€¢ Track          â”‚ â”‚  â€¢ Roles       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                      â”‚
                â–¼                      â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
    â”‚  Manage CMS Content           â”‚ â”‚
    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚ â”‚
    â”‚  â€¢ Homepage sections          â”‚ â”‚
    â”‚  â€¢ Promotions                 â”‚ â”‚
    â”‚  â€¢ Pages                      â”‚ â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                  â”‚                   â”‚
                  â–¼                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚  Log Actions to Audit     â”‚    â”‚
    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚    â”‚
    â”‚  â€¢ Track changes          â”‚    â”‚
    â”‚  â€¢ Record admin actions   â”‚    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
                  â”‚                   â”‚
                  â–¼                   â”‚
        â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬    â”‚
        â”‚  Perform Another      â”‚    â”‚
        â”‚  Operation?           â”‚    â”‚
        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
               â”‚        â”‚            â”‚
           Yes â”‚        â”‚ No         â”‚
               â”‚        â”‚            â”‚
               â–¼        â–¼            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
        â”‚  LOOP    â”‚ â”‚   END    â”‚   â”‚
        â”‚  BACK TO â”‚ â”‚  SESSION â”‚ â—€â”€â”˜
        â”‚  DASHBOARDâ”‚â”‚          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¡
         â”‚         DATA STORES                  â”‚                                      â”‚
         â”‚                                      â”‚                                      â”‚
         â”‚  D1: Users          D2: Products    â”‚  D4: CMS        D5: Orders           â”‚
         â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚
         â”‚  â€¢ Admin accounts  â€¢ Inventory     â”‚  â€¢ Homepage     â€¢ All orders         â”‚
         â”‚  â€¢ Roles           â€¢ Categories    â”‚  â€¢ Promotions   â€¢ Status             â”‚
         â”‚  â€¢ Permissions     â€¢ Status        â”‚  â€¢ Pages        â€¢ Analytics data     â”‚
         â”‚                    â€¢ Images        â”‚                                      â”‚
         â”‚                                 D6: Audit Log                             â”‚
         â”‚                                 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                              â”‚
         â”‚                                 â€¢ All admin actions                       â”‚
         â”‚                                 â€¢ Change tracking                         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Contact Form Flowchart

```
                    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                    â•‘   START CONTACT   â•‘
                    â•‘     FORM          â•‘
                    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”¬â•â•â•â•
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Customer Fills Contact Form       â”‚
                    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚
                    â”‚  â€¢ Name                            â”‚
                    â”‚  â€¢ Email                           â”‚
                    â”‚  â€¢ Subject                         â”‚
                    â”‚  â€¢ Message                         â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Submit Form                       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                              â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬
                              â”‚  Rate Limit   â”‚
                              â”‚  Check (< 5   â”‚
                              â”‚   /min per IP)â”‚
                              â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                                  â”‚       â”‚
                              OK  â”‚       â”‚ Rate
                                  â”‚       â”‚ Limited â”€â”€â”€â”
                                  â–¼       â–¼            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Validate Input      â”‚ â”‚  Return Error  â”‚
                    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚ â”‚  "Too many     â”‚
                    â”‚  â€¢ Email format      â”‚ â”‚   requests"    â”‚
                    â”‚  â€¢ Required fields   â”‚ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚  â€¢ Message length    â”‚        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
                              â”‚                     â”‚
                              â–¼                     â”‚
                    â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬   â”‚
                    â”‚  Validation               â”‚   â”‚
                    â”‚  Success?                 â”‚   â”‚
                    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
                        â”‚            â”‚              â”‚
                    Yes â”‚            â”‚ No           â”‚
                        â”‚            â”‚              â”‚
                        â–¼            â–¼              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Sanitize Input           â”‚ â”‚  Display   â”‚
        â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€       â”‚ â”‚  Validationâ”‚
        â”‚  â€¢ Remove XSS             â”‚ â”‚  Errors    â”‚
        â”‚  â€¢ Escape HTML            â”‚ â”‚            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                        â”‚
                  â–¼                        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  Determine Email Transport                â”‚â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚â”‚
â”‚  â€¢ Check SMTP config                     â”‚â”‚
â”‚  â€¢ Check Gmail OAuth                     â”‚â”‚
â”‚  â€¢ Fallback to test account              â”‚â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                  â”‚                        â”‚
                  â–¼                        â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Send Business Notification          â”‚
    â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”‚
    â”‚  â€¢ To business email                 â”‚
    â”‚  â€¢ Include customer details          â”‚
    â”‚  â€¢ HTML template                     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
       â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬
       â”‚  Email                 â”‚
       â”‚  Sent?                 â”‚
       â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚            â”‚
       Yes â”‚            â”‚ No
           â”‚            â”‚
           â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Send Auto-Reply  â”‚ â”‚  Log Error        â”‚
â”‚  to Customer      â”‚ â”‚  Continue         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€   â”‚ â”‚                   â”‚
â”‚  â€¢ Thank you msg  â”‚ â”‚                   â”‚
â”‚  â€¢ Confirmation   â”‚ â”‚                   â”‚
â”‚  â€¢ Company info   â”‚ â”‚                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                      â”‚
          â–¼                      â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  Display     â”‚       â”‚  Display     â”‚
  â”‚  Success     â”‚       â”‚  Error (w/   â”‚
  â”‚  Message     â”‚       â”‚  partial     â”‚
  â”‚              â”‚       â”‚  success)    â”‚
  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                      â”‚
         â–¼                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   END    â”‚          â”‚   END    â”‚
    â”‚ PROCESS  â”‚          â”‚ PROCESS  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¡
         â”‚         PROCESS STORES               â”‚                                      â”‚
         â”‚                                      â”‚                                      â”‚
         â”‚  Email Transport (E4)                â”‚  Rate Limit Tracking (Memory)        â”‚
         â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”‚
         â”‚  â€¢ SMTP Server                       â”‚  â€¢ IP tracking                       â”‚
         â”‚  â€¢ Gmail OAuth                       â”‚  â€¢ Request count                     â”‚
         â”‚  â€¢ Test Account                      â”‚  â€¢ Time window                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Level 1: DFD-1 (Decomposition)

**Purpose:** Breakdown of Process 0.0 into major subprocesses, showing data stores and flows

### Complete Level 1 DFD

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Customer   â”‚                                      â”‚Admin Staff  â”‚
â”‚    (E1)     â”‚                                      â”‚    (E2)     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                                  â”‚
       â”‚User requests, browse, cart, checkout, track     â”‚Admin login, CRUD, management
       â”‚                                                  â”‚
       â–¼                                                  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DAFFODIL E-COMMERCE SYSTEM                           â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  1.0 User â”‚        â”‚  2.0      â”‚        â”‚  3.0      â”‚              â”‚
â”‚  â”‚   Mngmnt  â”‚        â”‚ Product   â”‚        â”‚Cart       â”‚              â”‚
â”‚  â”‚           â”‚        â”‚ Browsing  â”‚        â”‚ Mngmnt    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜              â”‚
â”‚        â”‚                     â”‚                     â”‚                   â”‚
â”‚        â”‚                     â”‚                     â”‚                   â”‚
â”‚        â–¼                     â–¼                     â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚               â”‚   â”‚               â”‚   â”‚               â”‚           â”‚
â”‚  â”‚   D1: Users   â”‚   â”‚D2: Products   â”‚   â”‚  D3: Cart     â”‚           â”‚
â”‚  â”‚               â”‚   â”‚               â”‚   â”‚ (localStorage)â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                         â”‚
â”‚        â”‚                     â”‚                     â”‚                   â”‚
â”‚        â”‚                     â”‚                     â”‚                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  4.0      â”‚        â”‚  5.0      â”‚        â”‚  6.0      â”‚              â”‚
â”‚  â”‚Customize  â”‚        â”‚ Checkout  â”‚        â”‚ Order     â”‚              â”‚
â”‚  â”‚           â”‚        â”‚ & Payment â”‚        â”‚ Mngmnt    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜              â”‚
â”‚        â”‚                     â”‚                     â”‚                   â”‚
â”‚        â”‚                     â”‚                     â”‚                   â”‚
â”‚        â–¼                     â–¼                     â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚               â”‚   â”‚               â”‚   â”‚               â”‚           â”‚
â”‚  â”‚D4: CMS        â”‚   â”‚D5: Orders     â”‚   â”‚D6: Audit Log  â”‚           â”‚
â”‚  â”‚Content        â”‚   â”‚               â”‚   â”‚               â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                         â”‚
â”‚        â”‚                     â”‚                     â”‚                   â”‚
â”‚        â”‚                     â”‚                     â”‚                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                   â”‚
â”‚  â”‚  7.0      â”‚        â”‚  8.0      â”‚                                   â”‚
â”‚  â”‚ Admin     â”‚        â”‚ Contact   â”‚                                   â”‚
â”‚  â”‚ Dashboard â”‚        â”‚ & Comm    â”‚                                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                        â”‚             â”‚
       â”‚                                        â”‚             â”‚
       â”‚                                        â–¼             â–¼
       â”‚                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                                  â”‚Payment   â”‚  â”‚ Email    â”‚
       â”‚                                  â”‚Gateway   â”‚  â”‚ Service  â”‚
       â”‚                                  â”‚  (E3)    â”‚  â”‚   (E4)   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶          â”‚  â”‚          â”‚
              Product data, responses      â”‚          â”‚  â”‚          â”‚
              confirmations, updates       â”‚          â”‚  â”‚          â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚          â”‚
       â”‚                                   â”‚          â”‚  â”‚          â”‚
       â”‚                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚AI Service   â”‚
â”‚  (E5)       â”‚
â”‚             â”‚
â”‚ (Generation â”‚
â”‚  requests)  â”‚
â”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Process Descriptions

| Process                         | Description                              | Inputs                 | Outputs                   |
| ------------------------------- | ---------------------------------------- | ---------------------- | ------------------------- |
| **1.0 User Management**         | Handle authentication, sessions, profile | Login credentials      | Session tokens, user data |
| **2.0 Product Browsing**        | Display catalog, search, filter          | Browse/search queries  | Product listings, details |
| **3.0 Cart Management**         | Add/remove items, wishlist               | Product selections     | Cart state, totals        |
| **4.0 Customization**           | Build custom bouquets, AI preview        | Specs, choices         | Preview images, prices    |
| **5.0 Checkout & Payment**      | Process payments, create orders          | Cart, shipping info    | Order confirmations       |
| **6.0 Order Management**        | Track, update, fulfill orders            | Order queries, updates | Status, history           |
| **7.0 Admin Dashboard**         | Manage products, orders, users, CMS      | Admin commands         | Analytics, confirmations  |
| **8.0 Contact & Communication** | Handle contact forms, send emails        | Form submissions       | Email notifications       |

### Data Stores

| Store  | Name        | Stores                                     |
| ------ | ----------- | ------------------------------------------ |
| **D1** | Users       | User accounts, authentication, permissions |
| **D2** | Products    | Product catalog, inventory, pricing        |
| **D3** | Cart        | Shopping cart, wishlist (localStorage)     |
| **D4** | CMS Content | Homepage sections, promotions, pages       |
| **D5** | Orders      | Order history, status, fulfillment         |
| **D6** | Audit Log   | Admin actions, change tracking             |

### External Entities

| Entity | Name            | Role                                           |
| ------ | --------------- | ---------------------------------------------- |
| **E1** | Customer        | Browse, purchase, manage account               |
| **E2** | Admin Staff     | Manage products, orders, users, view analytics |
| **E3** | Payment Gateway | Process payments (Stripe, PayPal, PayMongo)    |
| **E4** | Email Service   | Send notifications, confirmations              |
| **E5** | AI Service      | Generate product preview images                |

---

## ğŸ“‹ Structured Purchase Flowchart (DFD Notation)

**Purpose:** Complete customer purchase flow following structured flowchart rules (Start â†’ Input â†’ Process â†’ Data â†’ Decision â†’ End)

```
                    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                    â•‘      START        â•‘
                    â•‘  Visit Daffodil   â•‘
                    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”¬â•â•â•â•
                                    â”‚
                                    â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   INPUT: User enters login details â”‚
                    â”‚   (If logged in, skip to browse)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  PROCESS: Validate credentials     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”‚   D1: Users Database   â”‚
                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â”‚
                                   â–¼
                         â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬
                         â”‚ DECISION:              â”‚
                         â”‚ Login details correct? â”‚
                         â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
                             â”‚              â”‚
                         Yes â”‚              â”‚ No
                             â”‚              â”‚
                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                 â”‚                                      â”‚
                 â–¼                                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ PROCESS: Grant access     â”‚      â”‚ PROCESS: Display error    â”‚
    â”‚ to account                â”‚      â”‚ message                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚                                  â”‚
                â”‚   â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   INPUT: User selects product               â”‚
    â”‚   (Browse catalog, search, view details)    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   PROCESS: Display product details          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚   D2: Products         â”‚
           â”‚   Database             â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   INPUT: User adds item to cart             â”‚
    â”‚   (Or customizes bouquet)                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   PROCESS: Update cart                      â”‚
    â”‚   Calculate total                           â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚   D3: Cart             â”‚
           â”‚   (localStorage)       â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
         â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬
         â”‚ DECISION:              â”‚
         â”‚ Add more items?        â”‚
         â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
             â”‚              â”‚
         Yes â”‚              â”‚ No
             â”‚              â”‚
             â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   INPUT: User proceeds to checkout          â”‚
    â”‚   â€¢ Enter shipping details                  â”‚
    â”‚   â€¢ Review order                            â”‚
    â”‚   â€¢ Select payment method                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   PROCESS: Process payment                  â”‚
    â”‚   â€¢ Send details to payment gateway         â”‚
    â”‚   â€¢ Initialize transaction                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Payment Gateway      â”‚
         â”‚   (External E3)        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚
                   â–¼
         â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬
         â”‚ DECISION:              â”‚
         â”‚ Payment successful?    â”‚
         â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
             â”‚              â”‚
         Yes â”‚              â”‚ No
             â”‚              â”‚
             â–¼              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ PROCESS: Save  â”‚ â”‚ PROCESS: Return to payment     â”‚
    â”‚ order + send   â”‚ â”‚ screen + show error            â”‚
    â”‚ email          â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
             â”‚                     â”‚
             â–¼                     â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚   D5: Orders Database  â”‚    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
              â”‚                   â”‚
              â–¼                   â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
    â”‚   Email Service (E4)   â”‚    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
              â”‚                   â”‚
              â–¼                   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
    â”‚   PROCESS: Update inventory                 â”‚â”‚
    â”‚   Deduct stock                              â”‚â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                      â”‚                            â”‚
                      â–¼                            â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
         â”‚   D2: Products DB      â”‚                â”‚
         â”‚   Update stock         â”‚                â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
                   â”‚                               â”‚
                   â–¼                               â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   PROCESS: Display order confirmation       â”‚
    â”‚   Show order number & details               â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚   END    â”‚
                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

                    DATA STORES LEGEND

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¤â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¡
â”‚   D1: Users    â”‚ User accounts, authentication      â”‚
â”‚                â”‚ Session tokens, permissions        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ D2: Products   â”‚ Product catalog, inventory         â”‚
â”‚                â”‚ Stock levels, pricing, images      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  D3: Cart      â”‚ Shopping cart (localStorage)       â”‚
â”‚                â”‚ Wishlist, user preferences         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ D5: Orders     â”‚ Order history, status              â”‚
â”‚                â”‚ Fulfillment tracking               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

              EXTERNAL ENTITIES

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•¡
â”‚  E3: Payment Gateway                                      â”‚
â”‚  â€¢ Stripe / PayPal / PayMongo                             â”‚
â”‚  â€¢ Processes card and digital wallet payments             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  E4: Email Service                                        â”‚
â”‚  â€¢ SMTP / Gmail OAuth                                     â”‚
â”‚  â€¢ Sends order confirmations, notifications               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Flow Description

**Sequence of Operations:**

1. **Start** â†’ User visits Daffodil Flower Shop
2. **Input** â†’ User enters login credentials (if not logged in)
3. **Process** â†’ System validates credentials against D1 (Users)
4. **Decision** â†’ Valid credentials? YES: grant access; NO: show error
5. **Input** â†’ User selects product from catalog
6. **Process** â†’ System displays details from D2 (Products)
7. **Input** â†’ User adds to cart
8. **Process** â†’ System updates D3 (Cart)
9. **Decision** â†’ More items? Loop back; otherwise continue
10. **Input** â†’ User proceeds to checkout
11. **Process** â†’ System sends payment details to E3 (Payment Gateway)
12. **Decision** â†’ Payment successful?
    - YES â†’ Save to D5, send email via E4, update D2 stock â†’ End
    - NO â†’ Return to payment screen
13. **End** â†’ Show order confirmation

---

## Level 2: Detailed Process Flows

### ğŸ” Process 1.0: User Management

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘             1.0 USER MANAGEMENT SYSTEM                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1.1 Auth â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 1.2 Sessionâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 1.3 Profileâ”‚
â”‚           â”‚         â”‚  Managementâ”‚         â”‚            â”‚
â”‚ â€¢ Login   â”‚         â”‚            â”‚         â”‚ â€¢ View     â”‚
â”‚ â€¢ Signup  â”‚         â”‚ â€¢ Supabase â”‚         â”‚   Orders   â”‚
â”‚ â€¢ Logout  â”‚         â”‚ â€¢ Realtime â”‚         â”‚ â€¢ Update   â”‚
â”‚ â€¢ OAuth   â”‚         â”‚ â€¢ LocalStorageâ”‚      â”‚   Info     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¡ DATA FLOWS:
   ğŸ‘¤ Customer â”€â”€â”€â”€â”€â”€[credentials]â”€â”€â”€â”€â†’ 1.1 Auth
   1.1 Auth â”€â”€â”€â”€â”€â”€[user_data]â”€â”€â”€â”€â”€â”€â”€â”€â†’ D1 Users
   1.2 Session â”€â”€â”€â”€[session_tokens]â”€â”€â†’ LocalStorage
   1.3 Profile â”€â”€â”€â”€â”€[order_queries]â”€â”€â”€â†’ D5 Orders
   âœ‰ï¸ Email â†â”€â”€â”€â”€â”€[verification]â”€â”€â”€â”€â”€â”€ 1.1 Auth
```

**Key Features:**

- Supabase Auth with email verification
- OAuth callbacks (Google, GitHub, Microsoft)
- Per-user session isolation
- Real-time auth state subscriptions
- Admin role detection (email whitelist + DB flag)

### ğŸŒ¹ Process 2.0: Product Browsing & Search

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘       2.0 PRODUCT BROWSING & SEARCH SYSTEM                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2.1 Catalogâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 2.2 Detailsâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 2.3 Search â”‚
â”‚            â”‚         â”‚            â”‚         â”‚            â”‚
â”‚ â€¢ Categoriesâ”‚        â”‚ â€¢ Full Infoâ”‚        â”‚ â€¢ Text     â”‚
â”‚ â€¢ Seasonal â”‚        â”‚ â€¢ Images   â”‚        â”‚ â€¢ Filters  â”‚
â”‚ â€¢ Featured â”‚        â”‚ â€¢ Specs    â”‚        â”‚ â€¢ Price    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¡ DATA FLOWS:
   ğŸ‘¤ Customer â”€â”€[category]â”€â”€â”€â”€â†’ 2.1 Catalog
   2.1 Catalog â”€â”€[list_query]â”€â”€â†’ D2 Products
   2.2 Details â”€â”€[product_id]â”€â”€â”€â†’ D2 Products
   2.3 Search â”€â”€â”€[filters]â”€â”€â”€â”€â”€â”€â†’ D2 Products
   ğŸ“¦ D2 Products â”€â”€[data]â”€â”€â”€â”€â”€â”€â”€â”€â†’ ğŸ‘¤ Customer
```

**Key Features:**

- Dynamic product catalog from Supabase
- Categories: Floral Arrangements, Seasonal, Gift Collections
- Real-time stock status
- Product search with filters
- Image galleries

### ğŸ›’ Process 3.0: Shopping Cart Management

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         3.0 SHOPPING CART MANAGEMENT SYSTEM               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3.1 Cart   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 3.2 Save   â”‚         â”‚ 3.3 Wish   â”‚
â”‚ Operations â”‚         â”‚            â”‚         â”‚            â”‚
â”‚            â”‚         â”‚ â€¢ localStorageâ”‚      â”‚ â€¢ Add/     â”‚
â”‚ â€¢ Add/Removeâ”‚        â”‚ â€¢ per-user â”‚        â”‚   Remove   â”‚
â”‚ â€¢ Update   â”‚        â”‚ â€¢ auto-syncâ”‚        â”‚ â€¢ Favoritesâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¡ DATA FLOWS:
   ğŸ‘¤ Customer â”€â”€[cart_modify]â”€â†’ 3.1 Cart Ops
   3.2 Save â”€â”€â”€â”€â”€[cart_data]â”€â”€â”€â†’ LocalStorage
   3.3 Wish â”€â”€â”€â”€â”€[wish_data]â”€â”€â”€â†’ LocalStorage
   ğŸ“¦ Products â”€â”€â”€[pricing]â”€â”€â”€â”€â”€â†’ 3.1 Cart Ops
```

**Key Features:**

- Guest & authenticated user isolation
- Persistent cart via LocalStorage
- Real-time quantity updates
- Wishlist integration

### ğŸ¨ Process 4.0: Customization Engine

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           4.0 AI CUSTOMIZATION ENGINE                     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4.1 Builderâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 4.2 AI Gen â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 4.3 Price  â”‚
â”‚            â”‚         â”‚            â”‚         â”‚            â”‚
â”‚ â€¢ Flower   â”‚         â”‚ â€¢ Stable   â”‚         â”‚ â€¢ Base     â”‚
â”‚ â€¢ Color    â”‚         â”‚   Diffusionâ”‚         â”‚ â€¢ Add-ons  â”‚
â”‚ â€¢ Stems    â”‚         â”‚ â€¢ HuggingFaceâ”‚       â”‚ â€¢ Wrap     â”‚
â”‚ â€¢ Add-ons  â”‚         â”‚ â€¢ Preview  â”‚         â”‚            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¡ DATA FLOWS:
   ğŸ‘¤ Customer â”€â”€[specs]â”€â”€â”€â”€â”€â”€â†’ 4.1 Builder
   4.2 AI Gen â”€â”€â”€[prompt]â”€â”€â”€â”€â”€â†’ ğŸ¤– HuggingFace
   ğŸ¤– HuggingFaceâ”€[image]â”€â”€â”€â”€â”€â†’ 4.2 AI Gen
   4.3 Price â”€â”€â”€â”€â”€[total]â”€â”€â”€â”€â”€â”€â†’ ğŸ‘¤ Customer
   4.1 Builder â”€â”€â”€[draft]â”€â”€â”€â”€â”€â”€â†’ LocalStorage
```

**Key Features:**

- AI-powered bouquet preview generation
- Flower type, color, stems, wrap, add-ons
- Real-time price calculation
- Draft saving
- Professional product photography prompts

### ğŸ’³ Process 5.0: Checkout & Payment

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        5.0 CHECKOUT & PAYMENT PROCESSING                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5.1 Checkoutâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 5.2 Paymentâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 5.3 Create â”‚
â”‚            â”‚         â”‚            â”‚         â”‚            â”‚
â”‚ â€¢ Shipping â”‚         â”‚ â€¢ Stripe   â”‚         â”‚ â€¢ Order #  â”‚
â”‚ â€¢ Contact  â”‚         â”‚ â€¢ PayPal   â”‚         â”‚ â€¢ Save     â”‚
â”‚ â€¢ Gift noteâ”‚         â”‚ â€¢ PayMongo â”‚         â”‚ â€¢ Email    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¡ DATA FLOWS:
   ğŸ‘¤ Customer â”€â”€[info]â”€â”€â”€â”€â”€â”€â”€â†’ 5.1 Checkout
   5.1 Checkout â”€[cart]â”€â”€â”€â”€â”€â”€â”€â†’ LocalStorage
   5.2 Payment â”€â”€[session]â”€â”€â”€â”€â†’ ğŸ’³ Gateway
   ğŸ’³ Gateway â”€â”€â”€[confirm]â”€â”€â”€â”€â†’ 5.3 Create
   5.3 Create â”€â”€â”€[order]â”€â”€â”€â”€â”€â”€â†’ D5 Orders
   5.3 Create â”€â”€â”€[email]â”€â”€â”€â”€â”€â”€â†’ âœ‰ï¸  Email Service
```

**Key Features:**

- Multiple payment gateways (Stripe/PayPal/PayMongo)
- Secure session handling
- Automatic order creation
- Email confirmations
- Order number generation

### ğŸ“¦ Process 6.0: Order Management

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘             6.0 ORDER MANAGEMENT SYSTEM                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 6.1 Track  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 6.2 Stock  â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 6.3 Fulfillâ”‚
â”‚            â”‚         â”‚            â”‚         â”‚            â”‚
â”‚ â€¢ View     â”‚         â”‚ â€¢ Check    â”‚         â”‚ â€¢ Update   â”‚
â”‚ â€¢ Status   â”‚         â”‚ â€¢ Deduct   â”‚         â”‚   Status   â”‚
â”‚ â€¢ History  â”‚         â”‚ â€¢ Restock  â”‚         â”‚ â€¢ Email    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¡ DATA FLOWS:
   ğŸ‘¤ Customer â”€â”€[order_inquiry]â†’ 6.1 Track
   6.1 Track â”€â”€â”€â”€â”€[status]â”€â”€â”€â”€â”€â”€â†’ D5 Orders
   6.2 Stock â”€â”€â”€â”€â”€[update]â”€â”€â”€â”€â”€â”€â†’ D2 Products
   6.3 Fulfill â”€â”€â”€[status]â”€â”€â”€â”€â”€â”€â†’ D5 Orders
   6.3 Fulfill â”€â”€â”€[notification]â†’ âœ‰ï¸  Email Service
```

**Key Features:**

- Real-time order tracking
- Automatic stock deduction
- Status workflow management
- Customer notifications
- Order history

### ğŸ‘” Process 7.0: Admin Dashboard

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘             7.0 ADMIN DASHBOARD SYSTEM                    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ 7.1 Prod â”‚    â”‚ 7.2 Orderâ”‚    â”‚ 7.3 User â”‚
   â”‚          â”‚    â”‚          â”‚    â”‚          â”‚
   â”‚ â€¢ CRUD   â”‚    â”‚ â€¢ Manage â”‚    â”‚ â€¢ Suspendâ”‚
   â”‚ â€¢ Import â”‚    â”‚ â€¢ Update â”‚    â”‚ â€¢ Promoteâ”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ 7.4 CMS  â”‚    â”‚ 7.5 Anal â”‚    â”‚ 7.6 Auditâ”‚
   â”‚          â”‚    â”‚          â”‚    â”‚          â”‚
   â”‚ â€¢ Pages  â”‚    â”‚ â€¢ Sales  â”‚    â”‚ â€¢ Track  â”‚
   â”‚ â€¢ Promos â”‚    â”‚ â€¢ Reportsâ”‚    â”‚   Actionsâ”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¡ DATA FLOWS:
   ğŸ‘” Admin â”€â”€â”€â”€â”€[CRUD]â”€â”€â”€â”€â”€â”€â”€â†’ 7.1-7.4
   7.1 Products â”€â”€[data]â”€â”€â”€â”€â”€â”€â”€â†’ D2 Products
   7.2 Orders â”€â”€â”€â”€â”€[status]â”€â”€â”€â”€â†’ D5 Orders
   7.3 Users â”€â”€â”€â”€â”€â”€[roles]â”€â”€â”€â”€â”€â†’ D1 Users
   7.4 CMS â”€â”€â”€â”€â”€â”€â”€â”€[content]â”€â”€â”€â†’ D4 CMS
   7.5 Analytics â”€â”€[reports]â”€â”€â”€â†’ D2, D5
   7.6 Audit â”€â”€â”€â”€â”€â”€[log]â”€â”€â”€â”€â”€â”€â”€â†’ D6 Audit
```

**Key Features:**

- Complete product CRUD
- Order management
- User administration
- CMS content editing
- Analytics dashboard
- Audit trail logging

### âœ‰ï¸ Process 8.0: Contact & Communication

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        8.0 CONTACT & COMMUNICATION SYSTEM                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 8.1 Form   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚ 8.2 Email  â”‚         â”‚ 8.3 Rate   â”‚
â”‚            â”‚         â”‚            â”‚         â”‚   Limit    â”‚
â”‚ â€¢ Name     â”‚         â”‚ â€¢ SMTP     â”‚         â”‚            â”‚
â”‚ â€¢ Email    â”‚         â”‚ â€¢ Gmail    â”‚         â”‚ â€¢ 5/min    â”‚
â”‚ â€¢ Message  â”‚         â”‚ â€¢ Auto-replyâ”‚        â”‚ â€¢ IP Track â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“¡ DATA FLOWS:
   ğŸ‘¤ Customer â”€â”€[form]â”€â”€â”€â”€â”€â”€â”€â”€â†’ 8.1 Form
   8.3 Limit â”€â”€â”€â”€[check]â”€â”€â”€â”€â”€â”€â”€â†’ In-Memory
   8.2 Email â”€â”€â”€â”€â”€[business]â”€â”€â”€â†’ âœ‰ï¸  Email Service
   8.2 Email â”€â”€â”€â”€â”€[reply]â”€â”€â”€â”€â”€â”€â†’ âœ‰ï¸  Customer
```

**Key Features:**

- Rate limiting (5 req/min per IP)
- Auto-reply system
- Business notifications
- Multi-transport (SMTP/Gmail OAuth)
- Input sanitization

---

## Data Stores (D-Files)

**Purpose:** All data repositories in the system

| Store                | Location     | Purpose                     | Key Fields                                  |
| -------------------- | ------------ | --------------------------- | ------------------------------------------- |
| **D1: Users**        | Supabase DB  | User accounts & permissions | `id`, `email`, `is_admin`, `suspended`      |
| **D2: Products**     | Supabase DB  | Product catalog             | `id`, `title`, `price`, `stock`, `category` |
| **D3: Cart**         | LocalStorage | Shopping cart state         | `cart:{user_id}` â†’ `{items: []}`            |
| **D4: CMS Content**  | Supabase DB  | Dynamic content             | `homepage_sections`, `promotions`, `pages`  |
| **D5: Orders**       | Supabase DB  | Order history               | `order_number`, `status`, `items`, `total`  |
| **D6: Audit Log**    | Supabase DB  | Admin actions               | `actor_id`, `action`, `entity`, `data`      |
| **D7: LocalStorage** | Browser      | Client state                | `cart`, `wishlist`, preferences             |

### Database Schema Overview

```sql
-- D1: Users
CREATE TABLE users (
  id UUID PRIMARY KEY,
  email VARCHAR UNIQUE,
  is_admin BOOLEAN DEFAULT false,
  suspended BOOLEAN DEFAULT false,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- D2: Products
CREATE TABLE products (
  id VARCHAR PRIMARY KEY,
  title VARCHAR NOT NULL,
  description TEXT,
  price DECIMAL(10,2),
  category VARCHAR,
  status VARCHAR DEFAULT 'active',
  stock INTEGER DEFAULT 0,
  images JSONB,
  created_at TIMESTAMP DEFAULT NOW()
);

-- D5: Orders
CREATE TABLE orders (
  id UUID PRIMARY KEY,
  order_number VARCHAR UNIQUE,
  customer_email VARCHAR NOT NULL,
  customer_name VARCHAR,
  total DECIMAL(10,2),
  status VARCHAR,
  items JSONB,
  payment_status VARCHAR,
  payment_method VARCHAR,
  created_at TIMESTAMP DEFAULT NOW()
);

-- D4: CMS Content
CREATE TABLE cms_homepage_sections (...);
CREATE TABLE cms_promotions (...);
CREATE TABLE cms_pages (...);

-- D6: Audit Log
CREATE TABLE admin_audit (...);
```

---

## External Entities

**Purpose:** Systems and users outside the Daffodil boundary

| Entity                      | Role               | Key Interactions                                 |
| --------------------------- | ------------------ | ------------------------------------------------ |
| **E1: Customer** ğŸ‘¤         | End users          | Browse, purchase, contact, track orders          |
| **E2: Admin Staff** ğŸ‘”      | Administrators     | Manage products/orders/users, view analytics     |
| **E3: Payment Gateways** ğŸ’³ | Payment processors | Stripe, PayPal, PayMongo (multi-gateway support) |
| **E4: Email Service** âœ‰ï¸    | Messaging          | SMTP, Gmail OAuth, order confirmations           |
| **E5: AI Service** ğŸ¤–       | Image generation   | HuggingFace Stable Diffusion for previews        |

---

## Key User Journeys

### ğŸŒ¸ Customer Purchase Journey

```
1. BROWSE â†’ [Land on Homepage]
   â†“
2. DISCOVER â†’ [View Products / Search / Filter]
   â†“
3. SELECT â†’ [Add to Cart / Customize]
   â†“
4. CUSTOMIZE â†’ [AI Preview / Adjust Specs] [Optional]
   â†“
5. CHECKOUT â†’ [Enter Details / Choose Payment]
   â†“
6. PAY â†’ [Stripe/PayPal/PayMongo]
   â†“
7. CONFIRM â†’ [Order Created / Email Sent]
   â†“
8. TRACK â†’ [View Status / Get Updates]
```

**Supporting Flows:**

- ğŸ‘¤ **Authentication**: Login/Signup at any point
- ğŸ’ **Wishlist**: Save for later
- âœ‰ï¸ **Contact**: Get support
- ğŸ“œ **History**: View past orders

### ğŸ‘” Admin Management Journey

```
1. ACCESS â†’ [Admin Login / Auth Check]
   â†“
2. OVERVIEW â†’ [Dashboard Analytics]
   â†“
3. MANAGE â†’ Choose Area:
   â”œâ”€ Products: CRUD, Import, Inventory
   â”œâ”€ Orders: Update Status, Fulfillment
   â”œâ”€ Users: Roles, Suspension
   â”œâ”€ CMS: Pages, Promotions, Homepage
   â””â”€ Reports: Sales, Products, Customers
   â†“
4. AUDIT â†’ [All Changes Logged]
```

**Security:** All admin actions require authentication and are logged.

---

## System Architecture

### ğŸ—ï¸ Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FRONTEND LAYER                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Next.js 15         â€¢ React 19                             â”‚
â”‚ â€¢ Chakra UI          â€¢ Framer Motion                        â”‚
â”‚ â€¢ Swiper (Carousels) â€¢ Emotion (Styling)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Next.js API Routes â€¢ Server Components                    â”‚
â”‚ â€¢ Runtime: Node.js   â€¢ Serverless Functions                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  SERVICES LAYER                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Supabase Auth     â€¢ Database (PostgreSQL)                 â”‚
â”‚ â€¢ Storage (Client)  â€¢ Email (Nodemailer)                    â”‚
â”‚ â€¢ Payments          â€¢ AI (HuggingFace)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â†•
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              EXTERNAL SERVICES                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Stripe API        â€¢ PayPal API                            â”‚
â”‚ â€¢ PayMongo API      â€¢ HuggingFace API                       â”‚
â”‚ â€¢ SMTP/Email        â€¢ Vercel Hosting                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ğŸ” Security Architecture

```
Protection Layer 1: Authentication
â”œâ”€â”€ Supabase Auth with JWT tokens
â”œâ”€â”€ OAuth2 for third-party login
â””â”€â”€ Session management with refresh tokens

Protection Layer 2: Authorization
â”œâ”€â”€ Role-based access control (Admin vs Customer)
â”œâ”€â”€ Email whitelist for admin access
â””â”€â”€ Suspension system for user management

Protection Layer 3: Input Validation
â”œâ”€â”€ XSS prevention via input sanitization
â”œâ”€â”€ SQL injection prevention via parameterized queries
â””â”€â”€ Rate limiting (5 req/min on contact form)

Protection Layer 4: Data Security
â”œâ”€â”€ HTTPS only (TLS 1.3)
â”œâ”€â”€ Environment variables for secrets
â”œâ”€â”€ Admin audit logging
â””â”€â”€ Secure payment processing (PCI compliance)

Protection Layer 5: Deployment
â”œâ”€â”€ Vercel edge network
â”œâ”€â”€ DDoS protection
â”œâ”€â”€ CSRF protection via Next.js
â””â”€â”€ Content Security Policy headers
```

---

## ğŸ“Š Integration Points

```
User Interactions â†’ API Routes â†’ External Services
                                   â†“
                               Responses
                                   â†“
                         UI Updates + Emails
                                   â†“
                           Database Updates
```

**Key Integrations:**

- ğŸ’³ **Payments**: Stripe, PayPal, PayMongo webhooks
- âœ‰ï¸ **Email**: SMTP/Gmail OAuth with Nodemailer
- ğŸ¤– **AI**: HuggingFace Inference API
- ğŸ’¾ **Database**: Supabase real-time subscriptions
- ğŸ” **Auth**: Supabase Auth with OAuth providers

---

## ğŸ¯ Key Metrics & Monitoring

**Business Metrics:**

- Product views, add-to-cart rate, conversion rate
- Average order value, revenue trends
- Customer lifetime value, repeat purchase rate

**Technical Metrics:**

- API response times, error rates
- Payment success rate, email delivery rate
- AI generation latency, cache hit rates

**Security Metrics:**

- Failed login attempts, suspicious activity
- Rate limit violations, admin action frequency
- Audit log coverage, sensitive data access

---

## ğŸ“ Additional Resources

- **API Documentation**: `/api` routes in codebase
- **Admin Dashboard**: `/admin` accessible to admins only
- **Database Schema**: See Supabase dashboard
- **Environment Variables**: Check `.env.example`
- **Deployment**: Configured in Vercel
- **Email Templates**: HTML templates in contact route

---

**Document Version:** 1.0  
**Last Updated:** 2024  
**Maintained by:** Daffodil Development Team

> This comprehensive DFD represents the complete data flow architecture of the Daffodil Flower Shop e-commerce platform, documenting all major processes, data stores, external integrations, and security considerations.

---

## ğŸ“š Academic-Style Flowcharts

**Purpose:** Simple, clear flowcharts for academic documentation using standard symbols

### Login Flowchart

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   START      â”‚
â”‚  Visit Site  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INPUT:               â”‚
â”‚ Enter email          â”‚
â”‚ Enter password       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:             â”‚
â”‚ Validate credentials â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATA:                â”‚
â”‚ Users Database       â”‚
â”‚ Check username       â”‚
â”‚ Check password       â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DECISION:                          â”‚
â”‚ Are credentials valid?             â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                    â”‚
Yes â”‚                    â”‚ No
    â”‚                    â”‚
    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:     â”‚    â”‚ PROCESS:           â”‚
â”‚ Grant access â”‚    â”‚ Display error      â”‚
â”‚ Create       â”‚    â”‚ Try again          â”‚
â”‚ session      â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
       â”‚                   â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   END        â”‚
â”‚ Access       â”‚
â”‚ Account      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Product Browsing Flowchart

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   START      â”‚
â”‚ Browse Shop  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:             â”‚
â”‚ Load product         â”‚
â”‚ catalog              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATA:                â”‚
â”‚ Products Database    â”‚
â”‚ Read product list    â”‚
â”‚ Read images          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:             â”‚
â”‚ Display products     â”‚
â”‚ Show categories      â”‚
â”‚ Show prices          â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INPUT:               â”‚
â”‚ Select product       â”‚
â”‚ Choose quantity      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:             â”‚
â”‚ Add item to cart     â”‚
â”‚ Update cart total    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATA:                â”‚
â”‚ Cart Storage         â”‚
â”‚ Save cart items      â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DECISION:                         â”‚
â”‚ Continue shopping or check out?   â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                   â”‚
Moreâ”‚                   â”‚ Check
itemsâ”‚                   â”‚ out
    â”‚                   â”‚
    â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:     â”‚    â”‚ PROCESS:     â”‚
â”‚ Return to    â”‚    â”‚ Proceed to   â”‚
â”‚ catalog      â”‚    â”‚ checkout     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚
       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   END        â”‚
â”‚ Cart Ready   â”‚
â”‚ for Purchase â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### Checkout Flowchart

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   START      â”‚
â”‚ Go to        â”‚
â”‚ Checkout     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:             â”‚
â”‚ Review cart items    â”‚
â”‚ Check quantities     â”‚
â”‚ Verify total         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INPUT:               â”‚
â”‚ Enter shipping       â”‚
â”‚ address              â”‚
â”‚ Enter contact        â”‚
â”‚ information          â”‚
â”‚ Select payment       â”‚
â”‚ method               â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ INPUT:               â”‚
â”‚ Enter payment        â”‚
â”‚ details              â”‚
â”‚ Review order         â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:             â”‚
â”‚ Confirm payment      â”‚
â”‚ Process transaction  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DATA:                â”‚
â”‚ Payment Gateway      â”‚
â”‚ External processor   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DECISION:                         â”‚
â”‚ Was payment successful?           â”‚
â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚                    â”‚
Yes â”‚                    â”‚ No
    â”‚                    â”‚
    â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PROCESS:     â”‚    â”‚ PROCESS:           â”‚
â”‚ Save order   â”‚    â”‚ Display error      â”‚
â”‚ Update       â”‚    â”‚ Return to payment  â”‚
â”‚ inventory    â”‚    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
       â”‚                   â”‚
       â–¼                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ DATA:                â”‚   â”‚
â”‚ Orders Database      â”‚   â”‚
â”‚ Save order details   â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
       â”‚                   â”‚
       â–¼                   â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ PROCESS:             â”‚   â”‚
â”‚ Send confirmation    â”‚   â”‚
â”‚ email                â”‚   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
       â”‚                    â”‚
       â”‚                    â”‚â—„â”€â”€â”€â”€â”
       â”‚                    â”‚     â”‚
       â–¼                    â”‚     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚     â”‚
â”‚ PROCESS:     â”‚            â”‚     â”‚
â”‚ Display      â”‚            â”‚     â”‚
â”‚ confirmation â”‚            â”‚     â”‚
â”‚ Show order   â”‚            â”‚     â”‚
â”‚ number       â”‚            â”‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚     â”‚
       â”‚                    â”‚     â”‚
       â–¼                    â–¼     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   END        â”‚    â”‚ PROCESS:     â”‚
â”‚ Order        â”‚    â”‚ Try payment  â”‚
â”‚ Complete     â”‚    â”‚ again        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â”‚
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   END        â”‚
                    â”‚ Transaction  â”‚
                    â”‚ Cancelled    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Flowchart Summary:**

| Flowchart            | Steps    | Key Decisions              | Data Stores             |
| -------------------- | -------- | -------------------------- | ----------------------- |
| **Login**            | 7 steps  | Valid/invalid credentials  | Users Database          |
| **Product Browsing** | 9 steps  | Continue shopping/checkout | Products, Cart          |
| **Checkout**         | 11 steps | Payment success/failure    | Orders, Payment Gateway |

_These flowcharts follow standard academic notation and represent simplified business processes._
